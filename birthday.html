<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <title>Ch√∫c M·ª´ng Sinh Nh·∫≠t T·ªëng Linh üéÇüéÇüéÇ</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <link
            href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap"
            rel="stylesheet"
        />
        <style>
            :root {
                --main-gradient: linear-gradient(
                    120deg,
                    #ffe7f6 0%,
                    #fceabb 100%
                );
                --main-gradient2: linear-gradient(
                    135deg,
                    #fbc2eb 0%,
                    #f8ffae 100%
                );
            }
            html,
            body {
                height: 100%;
                margin: 0;
                padding: 0;
                font-family: "Quicksand", Arial, sans-serif;
                background: var(--main-gradient);
                overflow-x: hidden;
                min-height: 100vh;
                position: relative;
            }
            .bg-glow {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                z-index: 0;
                pointer-events: none;
                background: radial-gradient(
                        circle at 60% 20%,
                        #ffe5ecaa 0%,
                        transparent 45%
                    ),
                    radial-gradient(
                        circle at 40% 70%,
                        #f8ffae88 0%,
                        transparent 60%
                    ),
                    radial-gradient(
                        circle at 80% 90%,
                        #c1f0fb7a 0%,
                        transparent 40%
                    ),
                    radial-gradient(
                        circle at 20% 90%,
                        #eec9fc77 0%,
                        transparent 60%
                    ),
                    var(--main-gradient2);
                animation: movebg 12s linear infinite alternate;
                opacity: 0.82;
                transition: background 1s;
            }
            @keyframes movebg {
                0% {
                    filter: blur(0px) brightness(1);
                }
                50% {
                    filter: blur(3px) brightness(1.08);
                }
                100% {
                    filter: blur(0px) brightness(1);
                }
            }
            .confetti {
                pointer-events: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                z-index: 2;
            }
            .gallery-animate {
                position: fixed;
                z-index: 7;
                left: 0;
                top: 0;
                width: 100vw;
                height: 100vh;
                pointer-events: none;
                display: none;
            }
            .gallery-animate.show {
                display: block;
            }
            .gallery-animate img {
                position: absolute;
                border-radius: 20px;
                box-shadow: 0 4px 20px #ffc5ec95;
                opacity: 0;
                will-change: transform, opacity;
                pointer-events: none;
                object-fit: cover;
            }
            .gift-center {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                height: 100vh;
                min-height: 100dvh;
                z-index: 10;
                position: relative;
            }
            .gift-box {
                width: 200px;
                height: 200px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: filter 0.18s;
                animation: shake 1.6s infinite
                    cubic-bezier(0.8, 0.05, 0.65, 0.95);
                filter: drop-shadow(0 8px 30px #ffd6e0a6);
                position: relative;
                z-index: 10;
            }
            @keyframes shake {
                0% {
                    transform: scale(1) rotate(-4deg);
                }
                15% {
                    transform: scale(1.01) rotate(5deg);
                }
                35% {
                    transform: scale(0.97) rotate(-5deg);
                }
                55% {
                    transform: scale(1.02) rotate(2deg);
                }
                70% {
                    transform: scale(1) rotate(0);
                }
                100% {
                    transform: scale(1) rotate(-4deg);
                }
            }
            .card-wrap {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                position: fixed;
                left: 0;
                top: 0;
                width: 100vw;
                height: 100vh;
                z-index: 20;
                background: rgba(255, 255, 255, 0.09);
                transition: opacity 0.7s;
                opacity: 0;
                pointer-events: none;
            }
            .card-wrap.active {
                opacity: 1;
                pointer-events: auto;
            }
            .birthday-card {
                background: #fffbe7;
                border-radius: 32px;
                box-shadow: 0 6px 40px #ffd9e7a9;
                border: 2.5px solid #ffd6e0;
                padding: 32px 38px 28px 38px;
                min-width: 330px;
                max-width: 95vw;
                margin: 0 auto;
                text-align: center;
                transform: translateY(90px) scale(0.8) rotateX(60deg);
                opacity: 0;
                animation: openCard 0.88s 0.1s
                    cubic-bezier(0.77, -0.01, 0.42, 1.06) forwards;
                position: relative;
                overflow: visible;
            }
            @keyframes openCard {
                to {
                    transform: none;
                    opacity: 1;
                }
            }
            .birthday-card h1 {
                font-family: "Pacifico", cursive;
                color: #ff63a5;
                font-size: 2.5rem;
                margin-bottom: 10px;
                margin-top: 0;
                letter-spacing: 2px;
                text-shadow: 0 2px 18px #ffb3c9a2, 0 0 6px #fff;
            }
            .birthday-card .msg {
                color: #5c3457;
                font-size: 1.18rem;
                font-weight: 500;
                margin-bottom: 20px;
                font-family: "Quicksand", Arial, sans-serif;
                line-height: 1.7;
                background: linear-gradient(
                    90deg,
                    #ffbddf99 0%,
                    #fffbe799 100%
                );
                border-radius: 17px;
                padding: 12px 12px 6px 12px;
            }
            @media (max-width: 650px) {
                .gift-box {
                    width: 130px;
                    height: 130px;
                }
                .birthday-card {
                    padding: 14vw 4vw 7vw 4vw;
                    min-width: 0;
                }
            }
            @media (max-width: 420px) {
                .birthday-card h1 {
                    font-size: 1.3rem;
                }
                .birthday-card .msg {
                    font-size: 1.02rem;
                }
            }
        </style>
    </head>
    <body>
        <div class="bg-glow"></div>
        <canvas class="confetti"></canvas>
        <div class="gallery-animate" id="galleryAnimate"></div>
        <div class="gift-center" id="giftCenter">
            <div class="gift-box" id="giftBox" title="B·∫•m ƒë·ªÉ m·ªü qu√†">
                <img
                    src="/pngtree-3d-gift-box-wrapped-golden-ribbon-vector-on-transparent-background-png-image_6443775.png"
                    alt="giftbox"
                    style="width: 150%; height: 150%"
                />
            </div>
        </div>
        <div class="card-wrap" id="cardWrap">
            <div class="birthday-card">
                <h1>Ch√∫c m·ª´ng sinh nh·∫≠t T·ªëng LinhhüéÇ</h1>
                <div class="msg">
                    Ch√∫c b·∫°n tui l√∫c n√†o c≈©ng xinh ƒë·∫πp, r·∫°ng r·ª°, ƒÉn nhi·ªÅu m√† v·∫´n
                    g·∫ßy, ch∆°i nhi·ªÅu m√† v·∫´n gi·ªèi nha üòù<br />
                    NƒÉm nay ph·∫£i th·∫≠t nhi·ªÅu ni·ªÅm vui, may m·∫Øn k√©o t·ªõi ·∫ßm ·∫ßm, c√°i
                    g√¨ c≈©ng thu·∫≠n l·ª£i h·∫øt tr∆°n<br />
                    Anh em m√¨nh c·ª© th·∫ø th√¥i h·∫π h·∫π...
                    <span style="font-size: 1.6rem; color: #ffb3e9"
                        >üå∑üå∑</span
                    >
                </div>
            </div>
        </div>
        <script>
            // -------- HOA GI·∫§Y R∆†I --------
            const confetti = document.querySelector(".confetti");
            const cCtx = confetti.getContext("2d");
            let cw = window.innerWidth,
                ch = window.innerHeight;
            confetti.width = cw;
            confetti.height = ch;
            window.onresize = () => {
                cw = window.innerWidth;
                ch = window.innerHeight;
                confetti.width = cw;
                confetti.height = ch;
            };
            const colors = [
                "#ffb3e9",
                "#ffcad4",
                "#ffe7f6",
                "#ffe7a2",
                "#e4e6fa",
                "#fffbe7",
            ];
            let pieces = Array.from({ length: 55 }).map(() => ({
                x: Math.random() * cw,
                y: Math.random() * ch,
                r: Math.random() * 12 + 7,
                d: Math.random() * 2 + 1,
                color: colors[Math.floor(Math.random() * colors.length)],
                tilt: Math.random() * 16 - 8,
                tiltAngleIncremental: Math.random() * 0.09 + 0.03,
                tiltAngle: 0,
            }));
            function drawConfetti() {
                cCtx.clearRect(0, 0, cw, ch);
                for (let p of pieces) {
                    cCtx.beginPath();
                    cCtx.lineWidth = p.r / 3;
                    cCtx.strokeStyle = p.color;
                    cCtx.moveTo(p.x + p.tilt + 4, p.y);
                    cCtx.lineTo(p.x, p.y + p.tilt + p.r);
                    cCtx.stroke();
                }
                updateConfetti();
                requestAnimationFrame(drawConfetti);
            }
            function updateConfetti() {
                for (let p of pieces) {
                    p.y += (Math.cos(p.d) + 3 + p.r / 8) / 2.4;
                    p.x += Math.sin(p.d);
                    p.tiltAngle += p.tiltAngleIncremental;
                    p.tilt = Math.sin(p.tiltAngle - p.r / 6) * 14;
                    if (p.y > ch + 16) {
                        p.x = Math.random() * cw;
                        p.y = -8;
                    }
                    if (p.x > cw + 12 || p.x < -12) {
                        p.x = Math.random() * cw;
                    }
                }
            }
            drawConfetti();

            // --------- HI·ªÜU ·ª®NG ·∫¢NH D√ÄN ƒê·ªÄU, NH·ªé D·∫¶N, M·ªú D·∫¶N ---------
            const galleryImages = [
                "anh/0.jpg",
                "anh/1.jpg",
                "anh/2.jpg",
                "anh/3.jpg",
                "anh/4.jpg",
                "anh/5.jpg",
                "anh/6.jpg",
                "anh/7.jpg",
                "anh/8.jpg",
                "anh/9.jpg",
                "anh/10.jpg",
                "anh/11.jpg",
                "anh/12.jpg",
                "anh/13.jpg",
                "anh/14.jpg",
                "anh/15.jpg",
                "anh/16.jpg",
                "anh/17.jpg",
                "anh/18.jpg",
                "anh/19.jpg",
                "anh/20.jpg",
                "anh/21.jpg",
                "anh/22.jpg",
                "anh/23.jpg",
                "anh/24.jpg",
                "anh/25.jpg",
                "anh/26.jpg",
                "anh/27.jpg",
                "anh/28.jpg",
                "anh/29.jpg",
                "anh/30.jpg",
                "anh/31.jpg",
                "anh/32.jpg",
                "anh/33.jpg",
                "anh/34.jpg",
                "anh/35.jpg",
                "anh/36.jpg",
                "anh/37.jpg",
                "anh/38.jpg",
                "anh/39.jpg",
                "anh/40.jpg",
                "anh/41.jpg",
            ];

            const galleryAnimate = document.getElementById("galleryAnimate");
            let startShowImages = false;
            const usedPositions = []; // l∆∞u v·ªã tr√≠ ngang ƒë·ªÉ tr√°nh d√≠nh nhau

            function createFallingImage() {
                if (!startShowImages) return;

                const src =
                    galleryImages[
                        Math.floor(Math.random() * galleryImages.length)
                    ];
                const img = document.createElement("img");
                img.src = src;

                // ·∫¢nh to h∆°n m·ªôt ch√∫t
                const size = 230;
                img.style.width = size + "px";
                img.style.height = size + "px";

                // V·ªã tr√≠ ngang random nh∆∞ng tr√°nh d√≠nh nhau
                let startX;
                let attempts = 0;
                do {
                    startX = Math.random() * (window.innerWidth - size);
                    attempts++;
                } while (
                    usedPositions.some(
                        (x) => Math.abs(x - startX) < size + 50
                    ) &&
                    attempts < 10
                );

                usedPositions.push(startX);
                if (usedPositions.length > 8) usedPositions.shift();

                img.style.left = startX + "px";
                img.style.top = "-250px"; // b·∫Øt ƒë·∫ßu ngo√†i m√†n h√¨nh
                img.style.opacity = 0;

                galleryAnimate.appendChild(img);

                // Th·ªùi gian r∆°i (m·ªÅm m·∫°i h∆°n)
                const duration = Math.random() * 5 + 9; // 9‚Äì14s

                // B·∫Øt ƒë·∫ßu r∆°i + fade in 3.5s
                setTimeout(() => {
                    img.style.transition = `
                top ${duration}s linear,
                opacity 3.5s ease-out
            `;
                    img.style.top = window.innerHeight + 300 + "px"; // r∆°i h·∫øt kh·ªèi m√†n h√¨nh
                    img.style.opacity = 1;
                }, 50);

                // Sau khi r∆°i h·∫øt th√¨ m·ªõi x√≥a
                setTimeout(() => {
                    img.remove();
                }, duration * 1000 + 1000);
            }

            function startImageEffect() {
                if (startShowImages) return;
                startShowImages = true;
                galleryAnimate.classList.add("show");

                // T·∫°o ·∫£nh r∆°i ƒë·ªÅu
                setInterval(() => {
                    createFallingImage();
                    if (Math.random() > 0.65) createFallingImage();
                }, 1300); // nh·ªãp th∆∞a h∆°n ƒë·ªÉ nh√¨n tho√°ng ƒë√£ng
            }

            // --------- M·ªû H·ªòP QU√Ä ---------
            const giftBox = document.getElementById("giftBox");
            const cardWrap = document.getElementById("cardWrap");
            const giftCenter = document.getElementById("giftCenter");
            giftBox.onclick = function () {
                giftBox.style.transition =
                    "all 0.7s cubic-bezier(.53,2,.69,.81)";
                giftBox.style.transform = "scale(.16) rotate(-24deg)";
                giftBox.style.opacity = "0";
                setTimeout(() => {
                    giftCenter.style.display = "none";
                    cardWrap.classList.add("active");
                    startImageEffect();
                }, 700);
            };
        </script>
    </body>
</html>
